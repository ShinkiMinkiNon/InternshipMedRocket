
Сергей Жерлицын
9:42 AM




Сделать лайт-версию системы модерации отзывов.
Сделать модели:
Специальность врача;
Врачи с ФИО и специальностями (несколько). У одного врача может быть несколько специальностей;
Отзывы, в ней храним врача, дату отзыва (но не только день, но и время), исходный отзыв и обработанный отзыв, IP-адрес, User (если отзыв оставлен не анонимно);
Справочник матерных слов (руками добавить в него пару слов (блять, и еще 2);
Справочник исключений (оскорблять).\
_
Сделать админку для всех таблиц с возможностью поиска.\
Отзыв должен нормально открываться в админке, даже если врачей сотни тысяч.\
Для таблицы отзывов в списке выводить все поля. Дата отзыва и оригинальный отзыв – показывать только для чтения, поля отзывов должны быть многострочными).

Сделать форму добавления отзыва (для врача с id=145 по адресу localhost:8080/add-review/145).\
Единственным полем для заполнения является тест отзыва, ФИО врача и его специальности вывести в виде форматированного текста.
После отправки отзыва любезно сообщить “Отзыв успешно отправлен”.\
Если же в отзыве меньше 100 символов, то форма не отправляется, пишем “Должно быть хотя бы 100 символов”.

<h1>Оставить отзыв<h1>
<h2>Иванов Иван Иванович</h2>
аллерголог, иммунолог
<поле для ввода отзыва>
<кнопка “Отправить отзыв”>

При добавлении исходного отзыва, дата заполняется автоматически (настройка поля), а обработанный отзыв получается из исходного (методом в модели отзыва):
Если встречено подряд 6 ЗАГЛАВНЫХ букв, то привести регистр всего текста к такому виду, чтобы модератору меньше было править (заглавные – только в начале предложения);
Перед знаком препинания нет пробела, после – ровно 1 пробел (кроме последнего предложения, там не нужен);
Знаки препинания – сокращаем количество рядомстоящих до 1 (например, “!!!!!” преобразуем в “!”).\
_
По адресу localhost:8080/review/ - вывести список отзывов с обработанным текстом и датой (в формате 06.07.2018). Верхний отзыв — самый старый. Над каждым отзывом — username (если отзыв не анонимный), ФИО врача и список специальностей врача.\
Слова, заподозренные в мате (является матом, начинается на мат или заканчивается на мат), выделяем красным цветом. Слова, являющиеся исключениями, никак не выделять.\
Сделать данную страницу доступной только для персонала сайта (для остальных – 404 ошибку).